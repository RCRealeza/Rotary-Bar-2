                        reportItem.classList.add('p-2', 'rounded-md', 'bg-gray-50', 'border', 'border-gray-200', 'cursor-pointer', 'hover:bg-gray-100');
                        reportItem.textContent = data.formattedDate || data.date.split('T')[0];
                        reportItem.addEventListener('click', () => {
                            pastReportDetails.innerHTML = ''; // limpa
                            data.participants.forEach(p => {
                                const div = document.createElement('div');
                                div.classList.add('p-2', 'rounded-md', 'bg-white', 'border', 'border-gray-200', 'mb-2', 'text-sm');
                                div.innerHTML = `<strong>${p.name}</strong><br>`;
                                let total = 0;
                                for (const [drink, qty] of Object.entries(p.drinks)) {
                                    div.innerHTML += `&nbsp;&nbsp;&nbsp;${drink}: ${qty}<br>`;
                                }
                                pastReportDetails.appendChild(div);
                            });
                            pastReportDetails.classList.remove('hidden');
                        });
                        pastReportsList.appendChild(reportItem);
                    });
                }

                pastReportsModal.classList.remove('hidden');
            } catch (error) {
                console.error("Erro ao buscar relatórios anteriores: ", error);
                showMessage("Erro ao buscar relatórios anteriores: " + error.message);
            }
        });

        closePastReportsModalButton.addEventListener('click', () => {
            pastReportsModal.classList.add('hidden');
        });

        // Carregar dados ao iniciar
        loadDataFromFirestore();
    </script>
</body>
</html>
